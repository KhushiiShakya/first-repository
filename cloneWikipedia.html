<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MiniPedia — A Simple Wikipedia-style Clone</title>
<style>
  :root{
    --bg:#f8f9fa; --card:#fff; --muted:#6b7280; --accent:#3366cc; --text:#111827;
    --sidebar:#f1f3f5; --maxw:1100px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);line-height:1.5}
  .container{max-width:var(--maxw);margin:28px auto;padding:0 16px}
  header{display:flex;align-items:center;gap:14px}
  .logo{font-weight:700;font-size:20px;color:var(--accent)}
  .search{margin-left:auto;display:flex;gap:8px}
  input[type="search"]{padding:8px 10px;border-radius:6px;border:1px solid #d1d5db;min-width:220px}
  button{padding:8px 12px;border-radius:6px;border:0;background:var(--accent);color:#fff;cursor:pointer}
  main{display:grid;grid-template-columns:260px 1fr;gap:20px;margin-top:18px}
  /* Sidebar */
  aside{background:var(--sidebar);padding:12px;border-radius:8px;border:1px solid rgba(0,0,0,0.04)}
  .nav-list{list-style:none;padding:0;margin:0}
  .nav-list li{margin:8px 0}
  .nav-list a{color:var(--accent);text-decoration:none}
  /* Content */
  .card{background:var(--card);padding:20px;border-radius:8px;border:1px solid rgba(0,0,0,0.04)}
  h1{margin:0 0 8px;font-size:26px}
  .meta{color:var(--muted);font-size:13px;margin-bottom:12px}
  .toc{background:#fbfdff;border:1px solid #e6eefb;padding:10px;border-radius:6px;margin:12px 0}
  .toc h4{margin:0 0 8px;font-size:14px;color:var(--accent)}
  .toc ol{margin:0 0 0 16px;padding:0;color:var(--muted)}
  article p{margin:10px 0}
  /* Article list */
  .results{display:grid;gap:10px}
  .result{padding:10px;border-radius:8px;background:#fff;border:1px solid rgba(0,0,0,0.04)}
  .result h3{margin:0 0 6px;font-size:16px}
  .tag{display:inline-block;padding:4px 8px;background:#eef2ff;color:var(--accent);border-radius:999px;font-size:12px}
  /* Responsive */
  @media (max-width:880px){ main{grid-template-columns:1fr} aside{order:2} .search{width:100%;justify-content:flex-end} input[type="search"]{min-width:140px} }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="logo">MiniPedia</div>
    <div style="font-size:13px;color:var(--muted)">A tiny encyclopedia clone</div>

    <div class="search" role="search" aria-label="Site search">
      <input id="searchInput" type="search" placeholder="Search articles..." />
      <button id="searchBtn">Search</button>
    </div>
  </header>

  <main>
    <aside>
      <div class="card" style="padding:12px">
        <strong>Contents</strong>
        <ul class="nav-list" id="sideList">
          <!-- populated by JS -->
        </ul>
      </div>

      <div style="height:12px"></div>

      <div class="card">
        <strong>Quick links</strong>
        <ul class="nav-list" style="margin-top:8px">
          <li><a href="#" onclick="showHome()">Home</a></li>
          <li><a href="#" onclick="showAll()">All articles</a></li>
          <li><a href="#" onclick="randomArticle()">Random article</a></li>
        </ul>
      </div>
    </aside>

    <section>
      <div id="contentArea" class="card" role="main">
        <!-- dynamic content -->
      </div>
    </section>
  </main>
</div>

<script>
/* Simple in-memory "database" of articles */
const articles = [
  {
    id: 'html',
    title: 'HTML — HyperText Markup Language',
    intro: 'HTML is the standard markup language for documents designed to be displayed in a web browser.',
    body: [
      {h:'Overview', p:'HTML stands for HyperText Markup Language. It is used to structure web content using elements such as headings, paragraphs, links, lists, images and more.'},
      {h:'Basic example', p:'A simple HTML document starts with <!DOCTYPE html> and contains elements like <html>, <head> and <body>.'},
      {h:'Usage', p:'HTML is the backbone of web pages and is often used with CSS and JavaScript.'}
    ],
    tags: ['Web','Markup','Technology']
  },
  {
    id: 'c++',
    title: 'C++ — General purpose programming language',
    intro: 'C++ is a general-purpose programming language created as an extension of the C programming language.',
    body: [
      {h:'History', p:'C++ was developed by Bjarne Stroustrup starting in 1979 at Bell Labs.'},
      {h:'Features', p:'C++ provides low-level memory manipulation, object-oriented programming, and generic programming via templates.'}
    ],
    tags: ['Programming','Language']
  },
  {
    id: 'bookfair',
    title: 'Book Fair',
    intro: 'A book fair is an event for buying, selling and promoting books, often attended by readers, students and authors.',
    body: [
      {h:'Organising', p:'Book fairs are commonly organized by schools, universities, or public libraries.'},
      {h:'Benefits', p:'They encourage reading, provide exposure to authors, and promote local publishers.'}
    ],
    tags: ['Event','Books']
  }
];

/* Helper: render list of articles in sidebar */
function renderSidebar() {
  const ul = document.getElementById('sideList');
  ul.innerHTML = '';
  articles.forEach(a=>{
    const li = document.createElement('li');
    li.innerHTML = `<a href="#" onclick="openArticle('${a.id}')">${a.title}</a>`;
    ul.appendChild(li);
  });
}

/* Show home / welcome */
function showHome(){
  const content = document.getElementById('contentArea');
  content.innerHTML = `
    <h1>Welcome to MiniPedia</h1>
    <div class="meta">Browse short articles. This is a demo clone for learning.</div>
    <p>Use the search box to find an article, or pick one from the sidebar.</p>
    <h3>Featured</h3>
    <div class="results">
      ${articles.map(a=>`<div class="result"><h3><a href="#" onclick="openArticle('${a.id}')">${a.title}</a></h3><div class="meta">${a.intro}</div><div style="margin-top:8px">${a.tags.map(t=>`<span class="tag">${t}</span>`).join(' ')}</div></div>`).join('')}
    </div>
  `;
}

/* Open article by id */
function openArticle(id){
  const a = articles.find(x=>x.id===id);
  if(!a) return notFound();
  const content = document.getElementById('contentArea');
  // table of contents
  const toc = a.body.map((b,i)=>`<li><a href="#${a.id}-h${i}">${b.h}</a></li>`).join('');
  content.innerHTML = `
    <h1>${a.title}</h1>
    <div class="meta">Last edited: <em>Demo</em> • Tags: ${a.tags.join(', ')}</div>
    <div class="toc"><h4>Contents</h4><ol>${toc}</ol></div>
    <article>
      <p><strong>${a.intro}</strong></p>
      ${a.body.map((b,i)=>`<h2 id="${a.id}-h${i}">${b.h}</h2><p>${b.p}</p>`).join('')}
    </article>
    <div style="margin-top:18px;color:var(--muted)"><em>Return to <a href="#" onclick="showHome()">home</a> or <a href="#" onclick="showAll()">view all articles</a>.</em></div>
  `;
  window.scrollTo({top:0,behavior:'smooth'});
}

/* Show all articles (search results style) */
function showAll(){
  const content = document.getElementById('contentArea');
  content.innerHTML = `
    <h1>All articles</h1>
    <div class="results">
      ${articles.map(a=>`<div class="result"><h3><a href="#" onclick="openArticle('${a.id}')">${a.title}</a></h3><div class="meta">${a.intro}</div></div>`).join('')}
    </div>
  `;
}

/* Not found */
function notFound(){
  const content = document.getElementById('contentArea');
  content.innerHTML = `<h1>Article not found</h1><p class="meta">We couldn't find that article. Try search or select one from the sidebar.</p>`;
}

/* Search function: simple substring search against title + body */
function search(q){
  q = q.trim().toLowerCase();
  if(!q) return showHome();
  const results = articles.filter(a=>{
    if(a.title.toLowerCase().includes(q)) return true;
    if(a.intro.toLowerCase().includes(q)) return true;
    if(a.body.some(b=>b.h.toLowerCase().includes(q) || b.p.toLowerCase().includes(q))) return true;
    return false;
  });
  const content = document.getElementById('contentArea');
  if(results.length===0){
    content.innerHTML = `<h1>No results for “${escapeHtml(q)}”</h1><p class="meta">Try another keyword.</p>`;
    return;
  }
  content.innerHTML = `<h1>Search results for “${escapeHtml(q)}”</h1><div class="results">${results.map(a=>`<div class="result"><h3><a href="#" onclick="openArticle('${a.id}')">${a.title}</a></h3><div class="meta">${a.intro}</div></div>`).join('')}</div>`;
}

/* Random article */
function randomArticle(){
  const idx = Math.floor(Math.random()*articles.length);
  openArticle(articles[idx].id);
}

/* Small helper to escape html in output */
function escapeHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* Wire up search box and initial render */
document.getElementById('searchBtn').addEventListener('click', ()=>{
  const q = document.getElementById('searchInput').value;
  search(q);
});
document.getElementById('searchInput').addEventListener('keydown', (e)=>{
  if(e.key==='Enter'){ e.preventDefault(); search(e.target.value); }
});

/* initial */
renderSidebar();
showHome();
</script>
</body>
</html>
